(function(){this.Nivel=function(a){function f(){for(var a=0;a<this.saves.length;a++)this.storage.setItem(this.saves[a],this[this.saves[a]])}function e(){for(var a=0,g=0;g<this.nivel;g++)a+=this.step;this.goal=parseInt(a>this.max_xp?this.max_xp:a)}function b(a,g){for(var c in g)g.hasOwnProperty(c)&&(a[c]=g[c]);return a}this.xp=this.step=this.nivel=null;this.max_xp=500;this.goal=null;this.storage=window.localStorage;this.saves=["nivel","step","xp","goal"];var c={nivel:null,step:null,xp:null,field:null,
onlevelup:function(a){},handler:function(a){}};this.options=a&&"object"===typeof a?b(c,a):c;null==this.options.nivel&&(a=this.storage.getItem("nivel"),null==a&&(a=1,this.storage.setItem("nivel",a)),this.options.nivel=a);this.nivel=this.options.nivel;if(null!=this.options.field){a=document.querySelector(this.options.field);if(!a)throw"Element not found.";this.field=a;this.field.innerHTML=this.options.nivel}null==this.options.step&&(a=this.storage.getItem("storage"),null==a&&(a=10,this.storage.setItem("step",
a)),this.options.step=a);this.step=this.options.step;null==this.options.xp&&(a=this.storage.getItem("xp"),null==a&&(a=0,this.storage.setItem("xp",0)),this.options.xp=a);this.xp=parseInt(this.options.xp);this.onlevelup=this.options.onlevelup;e.call(this);f.call(this);this.setXp=function(a){for(this.xp+=parseInt(a);this.xp>=this.goal;)this.nivel++,this.xp-=this.goal,this.field&&(this.field.innerHTML=this.nivel),e.call(this),this.onlevelup&&this.onlevelup.call(this);f.call(this)}};this.Notification=
function(a){function f(a,c){for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g]);return a}this.element=this.options=null;var e={title:null,text:null,icon:null,color:null,time:null,handler:function(a){}};a&&"object"===typeof a&&(this.options=f(e,a));if(!this.options.title||!this.options.text)throw"Title or text is not defined. Please, set this values before show message.";if(!this.options.time)throw"Time not defined.";this.time=this.options.time;a=document.createElement("div");a.className="notification";
e=document.createElement("h3");e.innerHTML=this.options.title;if(this.options.icon){var b=document.createElement("i");b.className=this.options.icon;a.append(b)}b=document.createElement("p");b.innerHTML=this.options.text;var c=document.createElement("div");c.className="significance";this.options.color&&(c.style.backgroundColor=this.options.color);a.append(e);a.append(b);a.append(c);this.notification=a;var d=function(){this.element=null;this.element=this.notification;var a=this.options.handler;a&&a(this);
document.querySelector(".notification_area").append(this.element)};this.show=function(){d.call(this);var a=this.element;a.style.animationDuration=this.time+"s";a.classList.add("active");setTimeout(function(){a.classList.remove("active");a.remove()},1E3*this.time)}};this.Progressbar=function(a){function f(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);return a}function e(a,d,g){d=d.firstElementChild;g=g.oncomplete;a=a.querySelectorAll("input[type=checkbox]");for(var c=0,b=0;b<a.length;b++)a[b].checked&&
c++;a=Math.round(c/a.length*100);d.style.width=a+"%";d.innerHTML=a+"%";100==a?(d.parentNode.className+=" complete",g&&g.call(this)):d.parentNode.classList.remove("complete")}this.input=this.inputs=this.reference=this.field=null;this.onchange=function(){var a=this.options,d=a.handler,b=this.input,f=this.field,h=this.reference;b&&b.addEventListener("change",function(c){d&&d(this);e(h,f,a)},!0)};var b={field:"",reference:"",oncomplete:function(a){},handler:function(a){}};a&&"object"===typeof a&&(this.options=
f(b,a));if(void 0!=this.options.oncomplete){if("function"!==typeof this.options.oncomplete)throw"Option oncomplete is not a function.";this.oncomplete=this.options.oncomplete}if(!this.options)throw"No element referenced.";this.field=document.getElementById(this.options.field);if(!this.field)throw"Element not found.";this.reference=document.querySelector(this.options.reference);if(!this.reference)throw"Reference not found.";if(this.inputs=this.reference.querySelectorAll("input[type='checkbox']"))for(a=
0;a<this.inputs.length;a++)this.input=this.inputs[a],this.onchange.call(this);e(this.reference,this.field,this.options)};this.Badge=function(a){function f(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);return a}this.text=this.reference=null;var e={reference:"",text:""};this.build=function(){this.reference&&(this.reference.innerHTML=this.text)};a&&"object"===typeof a&&(this.options=f(e,a));this.reference=document.querySelector(this.options.reference);if(!this.reference)throw"Reference not found.";
this.text=this.options.text;if(!this.text)throw"Text not found.";this.build.call(this);this.setText=function(a){this.text=a;this.build.call(this)}};this.Medal=function(a){function f(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);return a}function e(a,d){var c=!1;"#"==a[0]&&(a=a.slice(1),c=!0);var b=parseInt(a,16),e=(b>>16)+d;255<e?e=255:0>e&&(e=0);var f=(b>>8&255)+d;255<f?f=255:0>f&&(f=0);b=(b&255)+d;255<b?b=255:0>b&&(b=0);return(c?"#":"")+(b|f<<8|e<<16).toString(16)}this.reference=this.number=
this.icon=this.color=null;this.content="";var b={reference:null,color:null,icon:null,number:null};a&&"object"===typeof a&&(this.options=f(b,a));if(!this.options.reference)throw"No reference found";this.reference=document.querySelector(this.options.reference);if(!this.reference)throw"No reference found";this.options.number&&(this.number=this.options.number,this.content=document.createElement("span"),this.content.innerHTML=this.options.number);this.options.icon&&(this.icon=this.options.icon,this.content=
document.createElement("i"),this.content.className=this.options.icon);this.options.color&&(a=e(this.options.color,-50),this.reference.style.backgroundColor=this.options.color,this.content.style.color=a);this.reference.append(this.content)};(function(){document.querySelectorAll(".game-progress").forEach(function(a){var b=document.createElement("span");a.append(b)});var a=0;document.querySelectorAll(".game-medal").forEach(function(e){var b=e.dataset;e.id||(e.id="medal-"+a);a++;new Medal({number:b.number,
icon:b.icon,color:b.color,reference:"#"+e.id})});var f=document.createElement("div");f.className="notification_area";document.body.append(f)})()})();